---
layout: post
title:  "spring - μ…λ¬Έ3"
date:   2025-02-02 20:00 +09:00
categories: BE
---
> μΈν”„λ° κΉ€μν•λ‹ μ¤ν”„λ§ μ…λ¬Έ κ°•μλ¥Ό λ“£κ³  μ •λ¦¬ν• λ‚΄μ©μ…λ‹λ‹¤   
https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%EC%9E%85%EB%AC%B8-%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8#

## μ¤ν”„λ§ λΉκ³Ό μμ΅΄κ΄€κ³„
### μ»΄ν¬λ„νΈ μ¤μΊ”κ³Ό μλ™ μμ΅΄κ΄€κ³„ μ„¤μ •

**μ¤ν”„λ§ λΉ(Spring Bean)**   
- Spring μ»¨ν…μ΄λ„κ°€ κ΄€λ¦¬ν•λ” μλ°” κ°μ²΄   
- μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅μ„ ν•΄μ•Ό Spring μ»¨ν…μ΄λ„κ°€ μΈμ‹ν•  μ μμ

**μ¤ν”„λ§ λΉ λ“±λ΅ λ°©λ²•**
1. μ–΄λ…Έν…μ΄μ…μ„ ν™μ©ν• μ»΄ν¬λ„νΈ μ¤μΊ”κ³Ό Autowired μ„¤μ •
2. μλ°” μ½”λ“λ΅ μ§μ ‘ μ¤ν”„λ§ λΉ λ“±λ΅ν•κΈ°

![Image](https://github.com/user-attachments/assets/7e227f29-21d8-4a18-acb0-94251d0e8e6d)
- memberController μ—μ„λ” memberService κ°μ²΄λ¥Ό μ‚¬μ©   
- memberService μ—μ„λ” memberRepository κ°μ²΄λ¥Ό μ‚¬μ©

### 1. μ–΄λ…Έν…μ΄μ…μ„ ν™μ©ν• μ»΄ν¬λ„νΈ μ¤μΊ”κ³Ό Autowired μ„¤μ •
`controller/MemberController.java`
```java
@Controller
public class MemberController {
    private final MemberService memberService;

    @Autowired
    public MemberController(MemberService memberService){
        this.memberService = memberService;
    }
}
```
β… `@Controller` μ–΄λ…Έν…μ΄μ…μ„ λ‹¬λ©΄ MemberControllerλΌλ” κ°μ²΄λ¥Ό λ§λ“¤μ–΄μ„ μ¤ν”„λ§μ— λ„£μ–΄μ„ κ΄€λ¦¬ = μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅   
β… `@Autowired`κ°€ μμΌλ©΄ μ¤ν”„λ§μ΄ μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— μλ” memberServiceλ¥Ό κ°€μ Έλ‹¤κ°€ μ—°κ²°   
-> MemberController κ°μ²΄κ°€ μƒμ„±λ  λ• μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅λ memberService κ°μ²΄λ¥Ό κ°€μ Έλ‹¤κ°€ λ„£μ–΄μ¤ = DI(μμ΅΄κ΄€κ³„ μ£Όμ…)

---
`service/Memberservice.java`
```java
@Service
public class MemberService {

    private final MemberRepository memberRepository;

    public MemberService(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }
    //μƒλµ..
}
```
β… κ·Έλƒ¥ MemberService λ” μ¤ν”„λ§ λΉμ— λ“±λ΅ μ• λ μμν• μλ°” ν΄λμ¤λΌμ„ `@Service` μ–΄λ…Έν…μ΄μ…μ„ λ‹¬μ•„μ¤μ•Ό μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅

---
π“ cmd + option + b λ΅ κµ¬ν„μ²΄λ΅ navigate 
  
`repository/MemoryMemberRepository.java`
```java
@Repository
public class MemoryMemberRepository implements MemberRepository{
	// μƒλµ ..
}
```
β… μ΄κ²ƒλ„ `@Repository` μ–΄λ…Έν…μ΄μ…μ„ λ‹¬μ•„μ¤μ•Ό μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅

---

π“ μ»΄ν¬λ„νΈ μ¤μΊ” λ²”μ„

`spring.hello.spring/HelloSpringApplication.java`
```java
package spring.hello.spring;
```
λ©”μΈν•¨μκ°€ μ†ν• ν¨ν‚¤μ§€κΉμ§€λ§ μ¤ν”„λ§μ΄ μ¤μΊ”(μ—¬κΈ°μ„  hello.hellospringλ§)

---
### 2. μλ°” μ½”λ“λ΅ μ§μ ‘ μ¤ν”„λ§ λΉ λ“±λ΅ν•κΈ°
μ»¨νΈλ΅¤λ¬λ” κ·Έλ€λ΅ λ‘κ³  `@Service`, `@Repository`μ§€μ°κΈ°   

`SpringConfig.java` μƒμ„±
```java
@Configuration
public class SpringConfig {

	@Bean //μ¤ν”„λ§ λΉ λ“±λ΅
	public MemberService memberService() {
		return new MemberService(memberRepository()); //memberServiceλ” memberRepository μ‚¬μ©ν•λ„λ΅ ν•¨
	}

	@Bean
	public MemberRepository memberRepository() {
		return new MemoryMemberRepository();
	}
}
```
π“ Bean λ“±λ΅ κ²½μ°
- μ •ν•ν™”λ μ½”λ“(μ»¨νΈλ΅¤λ¬, μ„λΉ„μ¤, λ¦¬ν¬μ§€ν† λ¦¬)λ” μ»΄ν¬λ„νΈ μ¤μΊ”μ„ μ“°λ” κ²ƒμ΄ νΈλ¦¬
- μ •ν•ν™”λμ§€ μ•κ±°λ‚ μƒν™©μ— λ”°λΌ κµ¬ν„ ν΄λμ¤λ¥Ό λ³€κ²½ν•΄μ•Ό ν•λ©΄ μ§μ ‘ μ¤ν”„λ§ λΉμ„ λ“±λ΅ν•λ” κ²ƒμ΄ νΈλ¦¬