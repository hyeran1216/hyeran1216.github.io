---
layout: post
title:  "git-tip - 커밋 올바르게 하기"
date:   2025-02-07 22:00 +09:00
categories: writing
---
# 단계별로 특정 코드 블록만 커밋하는 방법

1. **파일 변경 사항 확인**:   
먼저, `git status`를 사용해 어떤 파일이 변경되었는지 확인
    
    ```bash
    git status
    ```
    
2. **`git add -p` 사용**:   
파일을 통째로 스테이징하지 않고 파일 내 특정 변경 사항만 스테이징하기 위해선 `git add -p`를 사용
    
    ```bash
    git add -p <파일명>
    ```
    
    ex> `src/components/MyComponent.js` 파일 내에서 특정 변경 사항만 스테이징하려면:
    
    ```bash
    git add -p src/components/MyComponent.js
    ```
    
3. **patch 모드 사용법**:   
`git add -p` 명령어를 실행하면 Git이 변경된 부분을 블록 단위로 보여주며, 해당 블록을 어떻게 처리할지 선택 가능
    
    - `y`: 이 변경사항을 스테이징함
    - `n`: 이 변경사항을 스테이징하지 않음
    - `s`: 더 작은 단위로 변경사항을 나눔 (부분적으로 나누어 커밋할 때 유용)
    - `q`: patch 모드 종료
    - `d`: 변경사항을 무시하고 나중에 처리함
    - `e`: 직접 수정 모드로 들어가서 스테이징할 부분을 수정
    
    
4. **커밋하기**:   
변경 사항을 선택적으로 스테이징한 후 커밋
    
    ```bash
    git commit -m "첫 번째 변경사항 커밋"
    ```
    
5. **다른 변경 사항 커밋하기**:   
앞에서 선택하지 않은 부분이나 나머지 변경 사항을 다시 스테이징하고 다른 커밋 메시지로 커밋
    
    ```bash
    git add -p <파일명>
    git commit -m "두 번째 변경사항 커밋"
    ```
    
6. **(보충) 여러 파일을 수정했는데 파일 단위로만 커밋하고 싶다면**:   
`git status`로 변경한 파일 확인하고

    ```bash
    git add <파일명1> <파일명2> <파일명3> <파일명4>...
    ```

    하고 커밋하면 된다

### 요약

1. **`git add -p`** 명령어를 사용하여 파일 내 특정 부분만 스테이징
2. 각 변경 사항에 대해 스테이징 여부를 선택
3. 스테이징된 부분을 커밋
4. 나머지 변경 사항을 다시 커밋